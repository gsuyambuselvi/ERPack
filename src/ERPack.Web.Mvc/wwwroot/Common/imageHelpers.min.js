var app=app||{};(function(){app.UploadImage=function(n,t){var r=$(`#${n}`),u=$(`#${t}`),[i]=r.find('[data-role="file-upload"]').prop("files"),f;if(i)if(i.type.startsWith("image/")){const n=URL.createObjectURL(i);r.find('[data-role="other-image"]').attr("src",n).show();r.find('[data-role="pdf-image"]').hide();f=u.find('[data-role="download-link"]');f.attr({href:n,download:i.name,"class":"btn btn-outline-primary"});u.find('[data-role="magnify"]').removeAttr("disabled");abp.notify.info("Image Uploaded Successfully")}else if(i.type==="application/pdf"){const n=URL.createObjectURL(i);r.find('[data-role="other-image"]').hide();r.find('[data-role="pdf-image"]').attr("src",n).show();u.find('[data-role="download-link"]').attr({href:n,download:i.name,"class":"btn btn-outline-primary"});u.find('[data-role="magnify"]').removeAttr("disabled");abp.notify.info("PDF Uploaded Successfully")}else abp.notify.info("Unsupported file type")};app.DownloadImage=function(n){var r=$(`#${n}`),i=r.find('[data-role="download-link"]'),u=i.attr("href"),f=i.attr("download"),t=new XMLHttpRequest;t.open("GET",u,!0);t.responseType="blob";t.onload=function(){var i=new Blob([t.response],{type:t.getResponseHeader("Content-Type")}),n=document.createElement("a");n.href=window.URL.createObjectURL(i);n.download=f;n.click()};t.send()};app.ZoomoutImage=function(n,t){var o=$(`#${t}`),r=$(`#${n}`),v="/img/default-image.jpg",f;const c=o.find('[data-role="modal"]').get(0),s=o.find('[data-role="modal-image"]').get(0),h=o.find('[data-role="modal-pdf"]').get(0),i=r.find('[data-role="other-image"]').get(0),u=r.find('[data-role="pdf-image"]').get(0);f=null;r.find('[data-role="file-upload"]').length>0&&(f=r.find('[data-role="file-upload"]').prop("files")[0]);const e=n=>n.includes(v),y=n=>n.includes(".pdf"),l=n=>{s.src=n,s.style.display="block",h.style.display="none",c.style.display="flex"},a=n=>{h.src=n,h.style.display="block",s.style.display="none",c.style.display="flex"};f?f.type.startsWith("image/")?e(i.src)||l(i.src):e(u.src)||a(u.src):e(i.src)||y(i.src)?e(u.src)||a(u.src):l(i.src)}})();